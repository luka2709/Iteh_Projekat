{"ast":null,"code":"import { DATA_LOADING, DATA_SUCCESS, DATA_FAILURE, ADD_CART, REMOVE_ONE_CART, EMPTY_CART, ADD_WISHLIST, DELETE_ITEM_CART } from \"./Action\";\nconst initState = {\n  loading: false,\n  error: false,\n  data: [],\n  cart: [],\n  wishlist: []\n};\nexport const cartReducer = function () {\n  let store = arguments.length > 0 && arguments[0] !== undefined ? arguments[0] : initState;\n  let {\n    type,\n    payload\n  } = arguments.length > 1 ? arguments[1] : undefined;\n  console.log(\"storeeee\", store);\n\n  switch (type) {\n    case DATA_LOADING:\n      return { ...store,\n        loading: true\n      };\n\n    case DATA_SUCCESS:\n      return { ...store,\n        loading: false,\n        todos: [...payload],\n        error: false\n      };\n\n    case DATA_FAILURE:\n      return { ...store,\n        loading: false,\n        error: true,\n        todos: []\n      };\n\n    case ADD_CART:\n      console.log(\"product\", store.cart);\n      const AfterAdding = store.cart.find(x => x._id === payload._id);\n      console.log(\"exist\", AfterAdding);\n\n      if (AfterAdding) {\n        console.log(\"inside addd\", payload._id);\n        var notFound = store.cart.map(x => x._id === payload._id ? { ...AfterAdding,\n          qty: AfterAdding.qty + 1\n        } : x);\n        console.log(\"addonaddon\", notFound);\n        return { ...store,\n          cart: notFound\n        };\n      } else {\n        console.log(\"notFoundnotFound\");\n        return { ...store,\n          cart: [...store.cart, { ...payload,\n            qty: 1\n          }]\n        };\n      }\n\n    // return { ...store, cart: [...store.cart ,  notFound] };\n\n    case REMOVE_ONE_CART:\n      console.log(\"product111\", store.cart);\n      const AfterRemove = store.cart.find(x => x._id === payload._id);\n      console.log(\"exist\", AfterRemove);\n\n      if (AfterRemove.qty === 1) {\n        var removeone = store.cart.filter(x => x._id !== payload._id);\n        console.log(\"one\");\n        return { ...store,\n          cart: removeone\n        };\n      } else {\n        var removeone = store.cart.map(x => x._id === payload._id ? { ...AfterRemove,\n          qty: AfterRemove.qty - 1\n        } : x);\n        console.log(\"many\", removeone);\n        return { ...store,\n          cart: removeone\n        };\n      }\n\n    case EMPTY_CART:\n      return { ...store,\n        cart: []\n      };\n\n    case DELETE_ITEM_CART:\n      const AfterDeleteCart = store.cart.filter(el => el.id !== payload);\n      return { ...store,\n        cart: AfterDeleteCart\n      };\n\n    case ADD_WISHLIST:\n      return { ...store,\n        wishlist: [...store.wishlist, payload]\n      };\n\n    default:\n      return store;\n  }\n};","map":{"version":3,"names":["DATA_LOADING","DATA_SUCCESS","DATA_FAILURE","ADD_CART","REMOVE_ONE_CART","EMPTY_CART","ADD_WISHLIST","DELETE_ITEM_CART","initState","loading","error","data","cart","wishlist","cartReducer","store","type","payload","console","log","todos","AfterAdding","find","x","_id","notFound","map","qty","AfterRemove","removeone","filter","AfterDeleteCart","el","id"],"sources":["C:/Users/User/Desktop/prodavnica/client/src/Redux/Cart/Reducer.jsx"],"sourcesContent":["import { DATA_LOADING, DATA_SUCCESS, DATA_FAILURE, ADD_CART, REMOVE_ONE_CART, EMPTY_CART, ADD_WISHLIST, DELETE_ITEM_CART } from \"./Action\"\n\n\nconst initState = {\n    loading: false,\n    error: false,\n    data: [],\n    cart: [],\n    wishlist: []\n};\n\n\nexport const cartReducer = (store = initState, { type, payload }) => {\n    console.log(\"storeeee\", store)\n    switch (type) {\n        case DATA_LOADING:\n            return { ...store, loading: true };\n\n        case DATA_SUCCESS:\n            return { ...store, loading: false, todos: [...payload], error: false };\n\n        case DATA_FAILURE:\n            return { ...store, loading: false, error: true, todos: [] };\n\n        case ADD_CART:\n            console.log(\"product\", store.cart)\n\n            const AfterAdding = store.cart.find(x => x._id === payload._id)\n            console.log(\"exist\", AfterAdding)\n            if (AfterAdding) {\n                console.log(\"inside addd\", payload._id)\n                var notFound = (store.cart.map((x) => x._id === payload._id ? { ...AfterAdding, qty: AfterAdding.qty + 1 } : x))\n                console.log(\"addonaddon\", notFound)\n                return { ...store, cart: notFound };\n            } else {\n\n                console.log(\"notFoundnotFound\")\n                return { ...store, cart: [...store.cart, { ...payload, qty: 1 }] }\n\n            }\n\n        // return { ...store, cart: [...store.cart ,  notFound] };\n\n        case REMOVE_ONE_CART:\n\n            console.log(\"product111\" , store.cart)\n            const AfterRemove = store.cart.find(x => x._id === payload._id)\n            console.log(\"exist\", AfterRemove)\n            if(AfterRemove.qty === 1 ){\n                var removeone = (store.cart.filter((x) => x._id !== payload._id));\n                console.log(\"one\")\n                return { ...store, cart: removeone };\n            }\n            else{\n                var removeone = (store.cart.map(x => x._id === payload._id ? {...AfterRemove , qty: AfterRemove.qty - 1} : x))\n                console.log(\"many\" , removeone)\n                return { ...store, cart:  removeone }\n\n            }\n\n\n        case EMPTY_CART:\n            return { ...store, cart: [] };\n\n        case DELETE_ITEM_CART:\n            const AfterDeleteCart = store.cart.filter((el) => el.id !== payload)\n            return { ...store, cart: AfterDeleteCart };\n\n        case ADD_WISHLIST:\n            return { ...store, wishlist: [...store.wishlist, payload] };\n\n        default:\n            return store;\n    }\n}"],"mappings":"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"},"metadata":{},"sourceType":"module"}